nodes:
  - node_id: pdf-extract#1
    title: "PDF内容提取 #1"
    inputs_from:
      - handle: api_token
        value: ${{OO_SECRET:Custom,mineru,api-key}}
      - handle: pdf_url
        from_node:
          - node_id: upload-to-cloud#1
            output_handle: cache_url
      - handle: enable_ocr
        value: true
      - handle: enable_formula
        value: false
    task: self::pdf-extract
  - node_id: upload-to-cloud#1
    title: "Upload File to Cloud #1"
    inputs_from:
      - handle: file
        value: /oomol-driver/oomol-storage/oopilot-instructions.pdf
    task: upload-to-cloud::upload-to-cloud
  - node_id: get-task-result#2
    title: "获取任务结果 #2"
    inputs_from:
      - handle: api_token
        value: ${{OO_SECRET:Custom,mineru,api-key}}
      - handle: task_id
        from_node:
          - node_id: pdf-extract#1
            output_handle: task_id
      - handle: max_retries
        value: 60
    task: self::get-task-result
